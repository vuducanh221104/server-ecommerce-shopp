### BIẾN MÔI TRƯỜNG
@baseUrl = http://localhost:4000/api/v1
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY2M2JkMjZlMWMwYjljM2I4ZDBjMTAxYiIsInJvbGUiOiJhZG1pbiIsIm5hbWUiOiJBZG1pbiIsImlhdCI6MTcxMTI5MjE0OCwiZXhwIjoxNzExMzc4NTQ4fQ.6C1OeUXzLbqOjvNGcGXx8cTWPX6AYgmNP1w5GyMXJeY
@categoryId = 67f14511c20a953c329be71e
@materialId = 67f33d917ab8e4dc7e066620

###########################################################
### 1. AUTH API
###########################################################

### 1.1 Đăng ký tài khoản mới (test thay đổi)
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "name": "Test User 2",
  "fullName": "Test User Full Name 2",
  "username": "testuser888",
  "email": "testuser888@example.com",
  "password": "password123",
  "phone_number": "0888888888"
}

### 1.2 Đăng nhập bằng email
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "testuser456@example.com",
  "password": "password123"
}

### 1.3 Đăng nhập bằng số điện thoại
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "phone_number": "0987654321",
  "password": "password123"
}

### 1.4 Đăng xuất
POST {{baseUrl}}/auth/logout

###########################################################
### 2. PRODUCT API
###########################################################


GET {{baseUrl}}/products

### 2.1 Lấy sản phẩm theo danh mục
GET {{baseUrl}}/products/category/{{categoryId}}

### 2.2 Tìm kiếm sản phẩm
GET {{baseUrl}}/products/search?q=áo

###########################################################
### 3. CATEGORIES API
###########################################################

### 3.1 Lấy tất cả danh mục
GET {{baseUrl}}/categories

###########################################################
### 4. MATERIALS API
###########################################################

### 4.1 Lấy tất cả chất liệu
GET {{baseUrl}}/materials

### 4.2 Tạo chất liệu mới
POST {{baseUrl}}/materials
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "name": "Cotton",
  "description": "Chất liệu cotton 100% cao cấp"
}

###########################################################
### 5. PRODUCT API
###########################################################

### 5.1 Tạo sản phẩm mới - Phiên bản đơn giản
POST {{baseUrl}}/products
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "name": "Áo Polo Nam Coolmax Air",
  "description": "Áo polo nam Coolmax Air với công nghệ thoáng khí cao cấp",
  "price": {
    "original": 249000,
    "discountQuantity": 15,
    "currency": "VND"
  },
  "category_id": "67f1452519ecc7c90441f446",
  "material_id": "67f33d917ab8e4dc7e066620",
  "total_quantity": 80,
  "tagIsNew": true,
  "thumb": "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2023/ao-polo-coolmax-air-thumb.jpg"
}

### 5.2 Lấy sản phẩm theo danh mục
GET {{baseUrl}}/products/category/{{categoryId}}

### 5.3 Tìm kiếm sản phẩm
GET {{baseUrl}}/products/search?q=áo

### 5.4 Lấy sản phẩm theo slug (slug chính xác)
GET {{baseUrl}}/products/slug/o-polo-nam-coolmax-air

### 5.4.1 Lấy sản phẩm theo slug (biến thể 2)
GET {{baseUrl}}/products/slug/o-polo-nam-coolmax-air

### 5.4.2 Lấy sản phẩm theo slug (biến thể 3)
GET {{baseUrl}}/products/slug/ao-so-mi-nam-linen-thoang-khi

### 5.5 Lấy sản phẩm mẫu theo slug (hardcode data)
GET {{baseUrl}}/products/slug/test-product

### 5.6 Tạo sản phẩm bằng cURL
# Sao chép và chạy lệnh này trong terminal
# curl -X POST http://localhost:4000/api/v1/products \
#   -H "Content-Type: application/json" \
#   -H "Authorization: Bearer {{authToken}}" \
#   -d '{
#     "name": "Áo Polo Nam Pique Cotton",
#     "slug": "ao-polo-nam-pique-cotton-2",
#     "description": "Áo polo nam Pique Cotton với chất vải cotton 100% cao cấp",
#     "price": {
#       "original": 199000,
#       "discountQuantity": 10,
#       "currency": "VND"
#     },
#     "category_id": "67f1452519ecc7c90441f446",
#     "material_id": "67f33d917ab8e4dc7e066620",
#     "product_type_id": "67f1452519ecc7c90441f446",
#     "thumb": "https://mcdn.coolmate.me/image/March2023/ao-polo-nam-pique-cotton-thumb-1.png",
#     "total_quantity": 100
#   }'

### 5.7 Lấy tất cả sản phẩm
GET {{baseUrl}}/products

### 5.8 Tạo sản phẩm với variants
POST {{baseUrl}}/products
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "name": "Áo Sơ Mi Nam Linen Thoáng Khí",
  "description": "Áo sơ mi nam chất liệu linen cao cấp, thoáng khí, phù hợp với thời tiết nóng ẩm, đặc biệt thoải mái khi mặc trong mùa hè.",
  "price": {
    "original": 329000,
    "discountQuantity": 20,
    "currency": "VND"
  },
  "category_id": "67f1452519ecc7c90441f446",
  "material_id": "67f33d917ab8e4dc7e066620",
  "total_quantity": 50,
  "thumb": "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2024/ao-so-mi-nam-thumb.jpg",
  "tagIsNew": true,
  "variants": [
    {
      "name": "Xanh Navy",
      "color": "#000080",
      "colorThumbnail": "https://media3.coolmate.me/cdn-cgi/image/width=160,height=160,quality=80,format=auto/uploads/March2024/ao-so-mi-nam-navy-thumb.jpg",
      "sizes": [
        {
          "size": "M",
          "stock": 15
        },
        {
          "size": "L",
          "stock": 20
        },
        {
          "size": "XL",
          "stock": 15
        }
      ],
      "images": [
        "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2024/ao-so-mi-nam-navy-1.jpg",
        "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2024/ao-so-mi-nam-navy-2.jpg"
      ]
    }
  ]
}

### 5.9 Lấy sản phẩm mới tạo theo slug
GET {{baseUrl}}/products/slug/ao-so-mi-nam-linen-thoang-khi

### 5.10 Lấy sản phẩm theo search
GET {{baseUrl}}/products/search?q=linen

### 5.11 Test search API với nhieu query
GET {{baseUrl}}/products/search?q=Polo

### 5.11.2 Tìm kiếm theo chất liệu
GET {{baseUrl}}/products/search?q=cotton

### 5.11.3 Tìm kiếm theo mô tả
GET {{baseUrl}}/products/search?q=thoáng khí

### 5.11.4 Tìm kiếm với dấu tiếng Việt
GET {{baseUrl}}/products/search?q=áo sơ mi

### 5.11.5 Tìm kiếm không phân biệt chữ hoa/thường
GET {{baseUrl}}/products/search?q=COOLMAX

### 5.12 Lấy sản phẩm theo slug của danh mục
GET {{baseUrl}}/products/category/slug/ao-polo

### 5.12.1 Lấy sản phẩm theo danh mục Áo Polo
GET {{baseUrl}}/products/category/slug/ao-polo

### 5.12.2 Lấy sản phẩm theo danh mục Áo Sơ Mi
GET {{baseUrl}}/products/category/slug/ao-so-mi

### 5.12.3 Lấy sản phẩm theo danh mục Áo Thun
GET {{baseUrl}}/products/category/slug/ao-thun

### 5.12.4 Lấy sản phẩm theo danh mục Quần
GET {{baseUrl}}/products/category/slug/quan

### 5.12.5 Lấy sản phẩm theo danh mục với phân trang
GET {{baseUrl}}/products/category/slug/ao-polo?page=1&limit=5

### 5.12.6 Lấy sản phẩm theo danh mục không tồn tại
GET {{baseUrl}}/products/category/slug/danh-muc-khong-ton-tai

### 5.13 Tạo sản phẩm với size L
POST {{baseUrl}}/products
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "name": "Áo Thun Nam Size L Only",
  "description": "Áo thun nam chỉ có size L, chất liệu cotton thoáng mát",
  "price": {
    "original": 150000,
    "discountQuantity": 10,
    "currency": "VND"
  },
  "category_id": "67f1452519ecc7c90441f446",
  "material_id": "67f33d917ab8e4dc7e066620",
  "thumb": "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2023/ao-thun-basic.jpg",
  "variants": [
    {
      "name": "Đen",
      "color": "#000000",
      "colorThumbnail": "https://media3.coolmate.me/cdn-cgi/image/width=160,height=160,quality=80,format=auto/uploads/March2023/ao-thun-den-thumb.jpg",
      "sizes": [
        {
          "size": "L",
          "stock": 40
        }
      ],
      "images": [
        "https://media3.coolmate.me/cdn-cgi/image/width=672,height=990,quality=85/uploads/March2023/ao-thun-den-1.jpg"
      ]
    }
  ]
}



